!function(){"use strict";function a(a,b,c,d){a.when("/",{templateUrl:"/views/home.html",controller:"homeCtrl",controllerAs:"home"}).when("/about",{templateUrl:"/views/about.html",controller:"aboutCtrl",controllerAs:"about"}).when("/faq",{templateUrl:"/views/faq.html",controller:"faqCtrl",controllerAs:"faq"}).when("/login",{templateUrl:"/views/login.html",controller:"loginCtrl"}).when("/signup",{templateUrl:"/views/signup.html",controller:"signupCtrl"}).otherwise("/"),b.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",c.html5Mode(!0),d.loginUrl="/api/auth/login",d.signupUrl="/api/auth/signup",d.oauth2({name:"instagram",url:"http://localhost:8080/api/auth/instagram",redirectUri:"http://localhost:8080",clientId:"e184998431cd44aa9af937b7e37ecbb9",requiredUrlParams:["scope"],scope:["likes"],scopeDelimiter:"+",authorizationEndpoint:"https://api.instagram.com/oauth/authorize"})}function b(a,b,c){c.isAuthenticated()&&(a.currentUser=JSON.parse(b.localStorage.currentUser))}a.$inject=["$routeProvider","$httpProvider","$locationProvider","$authProvider"],b.$inject=["$rootScope","$window","$auth"],angular.module("tomorrow-app",["ngRoute","ngMessages","ngStorage","ngAnimate","satellizer"]).config(a).run(b)}(),function(){function a(a){var b=this;b.pageClass="page-about",b.greeting={};var c=a.checkRole();c.then(function(a){b.greeting=a,console.log(JSON.stringify(b.greeting))})}a.$inject=["aboutService"],angular.module("tomorrow-app").controller("aboutCtrl",a)}(),function(){function a(){var a=this;a.pageClass="page-faq"}angular.module("tomorrow-app").controller("faqCtrl",a)}(),function(){function a(a,b,c,d){this.isAuthenticated=function(){return d.isAuthenticated()},this.linkInstagram=function(){d.link("instagram").then(function(b){a.localStorage.currentUser=JSON.stringify(b.data.user),c.currentUser=JSON.parse(a.localStorage.currentUser)})}}a.$inject=["$window","$scope","$rootScope","$auth"],angular.module("tomorrow-app").controller("homeCtrl",a)}(),function(){function a(a,b,c,d,e,f){b.instagramLogin=function(){e.authenticate("instagram").then(function(b){a.localStorage.currentUser=JSON.stringify(b.data.user),d.currentUser=JSON.parse(a.localStorage.currentUser)}).catch(function(a){console.log(a.data)})},b.emailLogin=function(){e.login({email:b.email,password:b.password}).then(function(b){a.localStorage.currentUser=JSON.stringify(b.data.user),d.currentUser=JSON.parse(a.localStorage.currentUser)}).catch(function(a){b.errorMessage={},angular.forEach(a.data.message,function(c,d){b.loginForm[d].$setValidity("server",!1),b.errorMessage[d]=a.data.message[d]})})}}a.$inject=["$window","$scope","$location","$rootScope","$auth","userService"],angular.module("tomorrow-app").controller("loginCtrl",a)}(),function(){function a(){}angular.module("tomorrow-app").controller("navigationCtrl",a)}(),function(){function a(a,b){var c=a;a.signup=function(){var a={email:c.email,password:c.password};b.signup(a).catch(function(a){console.log(a.data)})}}a.$inject=["$scope","$auth"],angular.module("tomorrow-app").controller("signupCtrl",a)}(),function(){function a(a,b,c,d){function e(){a.show({parent:angular.element(document.body),templateUrl:"/views/login.html",controller:"loginCtrl",controllerAs:"login",clicksOutsideToClose:!0})}function f(){d.logout(),c.currentUserSignedIn=!1,b.path("/"),console.log("User has been logged out.")}function g(a){b.path(a)}var h=this;h.showLogin=e,h.logout=f,h.go=g}a.$inject=["$mdDialog","$location","$rootScope","userService"],angular.module("tomorrow-app").controller("toolbarCtrl",a)}(),function(){function a(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){d.$setValidity("server",!0)})}}}angular.module("tomorrow-app").directive("serverError",a)}(),angular.module("tomorrow-app").directive("usernameExists",["$http",function(a){return{require:"ngModel",link:function(b,c,d,e){e.$asyncValidators.usernameExists=function(b){return a.get("/user/checkUsernameExists/"+e.username).then(function(a){return console.log("Username: "+b),a.data===!0})}}}}]),function(){function a(a){this.checkRole=function(){var b={};return b.id=1,b.content="This is a test",a.get("/api/role").then(function(a){return b.role=a.data,b})}}a.$inject=["$http"],angular.module("tomorrow-app").service("aboutService",a)}(),function(){function a(a){}a.$inject=["$http"],angular.module("tomorrow-app").service("homeService",a)}(),function(){"use strict";function a(a,b,c){function d(d,e,f){var g={username:d,password:e};console.log(g),a.post("api/auth/login",g).then(function(d){if(d.data.token){var e={username:g.username,token:d.data.token};b.currentUser=e,console.log(b.currentUser),a.defaults.headers.common.Authorization="Bearer "+d.data.token,c.currentUserSignedIn=!0,f(!0)}else f(!1)})}function e(){delete b.currentUser,a.defaults.headers.common.Authorization="",c.currentUserSignedIn=!1,console.log("User logged out in service too"),console.log(c.currentUserSignedIn)}var f={};return f.login=d,f.logout=e,f}a.$inject=["$http","$localStorage","$rootScope"],angular.module("tomorrow-app").service("userService",a)}();